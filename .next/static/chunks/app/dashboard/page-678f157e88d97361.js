(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:c,...u},m)=>(0,a.createElement)("svg",{ref:m,...r,width:l,height:l,stroke:s,strokeWidth:n?24*Number(o)/Number(l):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},1981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3021:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8203:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},173:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6141:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1298:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5790:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},7972:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6740:function(e,t,s){Promise.resolve().then(s.bind(s,1824))},1824:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(7437),r=s(2265),i=s(4033),l=s(5922),o=s(1298),n=s(3021),d=s(7972),c=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,c.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var m=s(5790),h=s(6141),x=s(1981),f=s(173),p=s(9883),g=s(6637);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,c.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var v=s(8203);function w(){var e;let t=(0,i.useRouter)(),[s,c]=(0,r.useState)(!0),[w,j]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[k,_]=(0,r.useState)(null),[C,Z]=(0,r.useState)(0),[O,E]=(0,r.useState)(0),{unreadCount:S,requestNotificationPermission:q}=function(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)(0),[i,o]=(0,r.useState)(null);async function n(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:s,error:r}=await l.O.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(r)throw r;t(s||[]),a((null==s?void 0:s.filter(e=>!e.is_read).length)||0)}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}}async function d(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let s=l.O.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e.id)},e=>{let s=e.new;o(s),t(e=>[s,...e].slice(0,10)),a(e=>e+1),function(e){"Notification"in window&&"granted"===Notification.permission&&new Notification(e.title,{body:e.body,icon:"/icon.png",badge:"/badge.png"});let t=document.createElement("div");t.className="fixed top-4 right-4 z-50 bg-white rounded-2xl shadow-2xl border border-slate-200 p-4 max-w-sm animate-slide-in",t.innerHTML='\n      <div class="flex gap-3">\n        <div class="flex-shrink-0 w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">\n          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />\n          </svg>\n        </div>\n        <div class="flex-1 min-w-0">\n          <p class="font-semibold text-slate-900 text-sm mb-1">'.concat(e.title,'</p>\n          <p class="text-sm text-slate-600 line-clamp-2">').concat(e.body,'</p>\n        </div>\n        <button onclick="this.parentElement.parentElement.remove()" class="flex-shrink-0 text-slate-400 hover:text-slate-600">\n          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n          </svg>\n        </button>\n      </div>\n    '),document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out 0.3s ease-out",setTimeout(()=>t.remove(),300)},5e3)}(s)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:"user_id=eq.".concat(e.id)},e=>{let s=e.new;t(e=>e.map(e=>e.id===s.id?s:e)),n()}).subscribe();return()=>{l.O.removeChannel(s)}}catch(e){console.error("Erro ao inscrever em notifica\xe7\xf5es:",e)}}return(0,r.useEffect)(()=>{n(),d()},[]),{notifications:e,unreadCount:s,latestNotification:i,markAsRead:async function(e){try{let{error:t}=await l.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e);if(t)throw t;await n()}catch(e){console.error("Erro ao marcar como lida:",e)}},markAllAsRead:async function(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{error:t}=await l.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1);if(t)throw t;await n()}catch(e){console.error("Erro ao marcar todas como lidas:",e)}},requestNotificationPermission:async function(){"Notification"in window&&"default"===Notification.permission&&await Notification.requestPermission()},refresh:n}}(),[M,I]=(0,r.useState)(""),[A,D]=(0,r.useState)("todos"),[L,z]=(0,r.useState)("todos");async function U(){let{data:{user:e}}=await l.O.auth.getUser();if(!e){t.push("/login");return}let{data:s}=await l.O.from("profiles").select("client_id").eq("id",e.id).single();if(null==s?void 0:s.client_id){let{data:e}=await l.O.from("clients").select("*").eq("id",s.client_id).single();e&&_(e)}}async function H(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:t}=await l.O.from("profiles").select("client_id").eq("id",e.id).single();if(!(null==t?void 0:t.client_id))return;let{data:s,error:a}=await l.O.from("tickets").select("*").eq("client_id",t.client_id).order("created_at",{ascending:!1});if(a)throw a;j(s||[])}catch(e){console.error("Erro ao carregar ordens:",e)}finally{c(!1)}}async function T(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:t}=await l.O.from("profiles").select("client_id").eq("id",e.id).single();if(!(null==t?void 0:t.client_id))return;let s=new Date;s.setDate(s.getDate()-1);let{count:a,error:r}=await l.O.from("service_orders").select("*",{count:"exact",head:!0}).eq("client_id",t.client_id).gte("created_at",s.toISOString());if(r)throw r;E(a||0)}catch(e){console.error("Erro ao carregar novas OS:",e)}}async function B(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:t}=await l.O.from("profiles").select("client_id").eq("id",e.id).single();if(!(null==t?void 0:t.client_id))return;let{count:s,error:a}=await l.O.from("quotes").select("*",{count:"exact",head:!0}).eq("client_id",t.client_id).eq("status","pending");if(a)throw a;Z(s||0)}catch(e){console.error("Erro ao carregar or\xe7amentos:",e)}}async function R(){await l.O.auth.signOut(),t.push("/login")}(0,r.useEffect)(()=>{U(),H(),B(),T(),q();let e=setInterval(()=>{H(),B(),T()},3e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{let e=[...w];M&&(e=e.filter(e=>e.title.toLowerCase().includes(M.toLowerCase())||e.description.toLowerCase().includes(M.toLowerCase()))),"todos"!==A&&(e=e.filter(e=>e.status===A)),"todos"!==L&&(e=e.filter(e=>e.priority===L)),N(e)},[w,M,A,L]);let P=w.filter(e=>"aberto"===e.status||"em_analise"===e.status).length,J=w.filter(e=>"aprovado"===e.status).length,V=w.filter(e=>"convertido"===e.status).length;return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"Carregando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[(0,a.jsx)("header",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(null==k?void 0:k.client_logo_url)||(null==k?void 0:k.logo_url)?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-indigo-400 rounded-xl blur opacity-20"}),(0,a.jsx)("img",{src:k.client_logo_url||k.logo_url,alt:k.name,className:"relative h-12 w-12 object-contain rounded-xl bg-white p-1.5 shadow-sm",onError:e=>{e.currentTarget.style.display="none"}})]}):(0,a.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:(null==k?void 0:null===(e=k.name)||void 0===e?void 0:e.charAt(0))||"C"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-slate-900",children:(null==k?void 0:k.name)||"Portal do Cliente"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:(null==k?void 0:k.responsible_name)||"Bem-vindo"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/quotes"),className:"relative p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",title:"Or\xe7amentos",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-slate-600"}),C>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-amber-500 to-orange-500 text-white text-xs font-bold rounded-full flex items-center justify-center shadow-lg",children:C>9?"9+":C})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/notifications"),className:"relative p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",title:"Notifica\xe7\xf5es",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 text-slate-600"}),S>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-br from-red-500 to-pink-500 text-white text-xs font-bold rounded-full flex items-center justify-center shadow-lg",children:S>9?"9+":S})]}),(0,a.jsx)("button",{onClick:()=>t.push("/profile"),className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",title:"Meu Perfil",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 text-slate-600"})}),(0,a.jsxs)("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",children:[(0,a.jsx)(u,{className:"w-4 h-4 text-slate-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Sair"})]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"group relative bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-200/60 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 rounded-full -mr-16 -mt-16"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 text-white"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Total de Chamados"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:w.length})]})]}),(0,a.jsxs)("div",{className:"group relative bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-200/60 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-full -mr-16 -mt-16"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl shadow-lg",children:(0,a.jsx)(h.Z,{className:"w-5 h-5 text-white"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Aguardando"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:P})]})]}),(0,a.jsxs)("div",{className:"group relative bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-200/60 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-full -mr-16 -mt-16"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:(0,a.jsx)(x.Z,{className:"w-5 h-5 text-white"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Em Progresso"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:J})]})]}),(0,a.jsxs)("div",{className:"group relative bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-200/60 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-full -mr-16 -mt-16"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl shadow-lg",children:(0,a.jsx)(f.Z,{className:"w-5 h-5 text-white"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Conclu\xeddos"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:V})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)("button",{onClick:()=>t.push("/new-order"),className:"group relative bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-5 rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center gap-3",children:[(0,a.jsx)(p.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-lg",children:"Abrir Novo Chamado"})]})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/service-orders"),className:"group relative bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-5 rounded-2xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-2xl overflow-hidden",children:[O>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center animate-pulse shadow-lg z-10",children:O>9?"9+":O}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center gap-3",children:[(0,a.jsx)(g.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-lg",children:"Ver Ordens de Servi\xe7o"}),O>0&&(0,a.jsxs)("span",{className:"ml-2 bg-white/20 px-2 py-1 rounded-full text-xs font-semibold",children:[O," nova",1!==O?"s":""]})]})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/history"),className:"group relative bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-8 py-5 rounded-2xl font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center gap-3",children:[(0,a.jsx)(b,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-lg",children:"Hist\xf3rico"})]})]}),(0,a.jsxs)("button",{onClick:()=>t.push("/appointments"),className:"group relative bg-gradient-to-r from-orange-600 to-amber-600 text-white px-8 py-5 rounded-2xl font-semibold hover:from-orange-700 hover:to-amber-700 transition-all duration-300 shadow-lg hover:shadow-2xl overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center gap-3",children:[(0,a.jsx)(v.Z,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-lg",children:"Agendamentos"})]})]})]}),(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-6 mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar chamados...",value:M,onChange:e=>I(e.target.value),className:"w-full px-4 py-3 pl-11 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),(0,a.jsx)("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,a.jsxs)("select",{value:A,onChange:e=>D(e.target.value),className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,a.jsx)("option",{value:"todos",children:"Todos os Status"}),(0,a.jsx)("option",{value:"aberto",children:"Aberto"}),(0,a.jsx)("option",{value:"em_analise",children:"Em An\xe1lise"}),(0,a.jsx)("option",{value:"aprovado",children:"Aprovado"}),(0,a.jsx)("option",{value:"convertido",children:"Convertido"})]}),(0,a.jsxs)("select",{value:L,onChange:e=>z(e.target.value),className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[(0,a.jsx)("option",{value:"todos",children:"Todas as Prioridades"}),(0,a.jsx)("option",{value:"baixa",children:"Baixa"}),(0,a.jsx)("option",{value:"media",children:"M\xe9dia"}),(0,a.jsx)("option",{value:"alta",children:"Alta"})]}),(0,a.jsx)("button",{onClick:function(){I(""),D("todos"),z("todos")},className:"px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl text-sm font-medium transition-all",children:"Limpar Filtros"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.slice(0,8).map(e=>{var s;return(0,a.jsxs)("div",{onClick:()=>t.push("/order/".concat(e.id)),className:"group bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer border border-slate-200/60 hover:border-blue-300",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 text-lg flex-1 pr-4 group-hover:text-blue-600 transition-colors",children:e.title}),(0,a.jsx)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium border ".concat({aberto:"bg-amber-50 text-amber-700 border-amber-200",em_analise:"bg-blue-50 text-blue-700 border-blue-200",aprovado:"bg-purple-50 text-purple-700 border-purple-200",convertido:"bg-emerald-50 text-emerald-700 border-emerald-200",rejeitado:"bg-red-50 text-red-700 border-red-200"}[e.status]||"bg-gray-50 text-gray-700 border-gray-200"),children:{aberto:"Aberto",em_analise:"Em An\xe1lise",aprovado:"Aprovado",convertido:"Convertido",rejeitado:"Rejeitado"}[s=e.status]||s})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2 mb-4 leading-relaxed",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[(0,a.jsx)("span",{className:"text-xs text-slate-500 font-medium",children:new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"})}),(0,a.jsx)("span",{className:"text-lg",children:"alta"===e.priority?"\uD83D\uDD34":"media"===e.priority?"\uD83D\uDFE1":"\uD83D\uDFE2"})]})]},e.id)})}),0===y.length&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-16 text-center",children:[(0,a.jsx)(g.Z,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium text-slate-700 mb-2",children:0===w.length?"Nenhum chamado encontrado":"Nenhum resultado"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:0===w.length?'Clique em "Abrir Novo Chamado" para come\xe7ar':"Tente ajustar os filtros"})]}),y.length>8&&(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:["Mostrando 8 de ",y.length," chamados"]})})]})]})}},5922:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(6932).eI)("https://xgcpfxzlzretwsjhvbtt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhnY3BmeHpsenJldHdzamh2YnR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjgyODEsImV4cCI6MjA4MDgwNDI4MX0.uG-WI56U7TUkkZogpofgbm8VH55RYOHe1y1hQRpUMgc")}},function(e){e.O(0,[896,971,938,560],function(){return e(e.s=6740)}),_N_E=e.O()}]);