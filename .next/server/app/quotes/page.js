(()=>{var e={};e.id=744,e.ids=[744],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},55355:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(50482),r=s(69108),l=s(62563),o=s.n(l),n=s(68300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let d=["",{children:["quotes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,42397)),"D:\\Projeto\\chameiapp\\client-portal\\app\\quotes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,82917)),"D:\\Projeto\\chameiapp\\client-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projeto\\chameiapp\\client-portal\\app\\quotes\\page.tsx"],m="/quotes/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/quotes/page",pathname:"/quotes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37309:(e,t,s)=>{Promise.resolve().then(s.bind(s,35601))},35601:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(95344),r=s(3729),l=s(22254),o=s(72829),n=s(25545),i=s(7060),d=s(73229),c=s(66138),m=s(37121),x=s(48411),u=s(55794),p=s(38271),h=s(45023),g=s(38541);function b(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(!0),[b,f]=(0,r.useState)("quotes"),[y,j]=(0,r.useState)([]),[v,w]=(0,r.useState)([]),[N,q]=(0,r.useState)([]),[D,_]=(0,r.useState)("all"),[C,k]=(0,r.useState)(null),[E,S]=(0,r.useState)(!1),[P,Z]=(0,r.useState)({title:"",description:"",urgency:"normal"}),[O,R]=(0,r.useState)(!1),[$,A]=(0,r.useState)([]),[T,L]=(0,r.useState)(!1);async function F(){let{data:{user:t}}=await o.O.auth.getUser();t||e.push("/login")}async function U(){try{let{data:{user:e}}=await o.O.auth.getUser();if(!e)return;let{data:t,error:s}=await o.O.from("profiles").select("client_id").eq("id",e.id).maybeSingle();if(s||!t?.client_id){console.error("Erro ao buscar perfil:",s);return}let{data:a,error:r}=await o.O.from("quotes").select(`
          *,
          quote_items(count)
        `).eq("client_id",t.client_id).order("created_at",{ascending:!1});if(r)throw r;let l=a?.map(e=>({...e,items_count:e.quote_items?.[0]?.count||0}))||[];j(l),q(l)}catch(e){console.error("Erro ao carregar or\xe7amentos:",e)}finally{s(!1)}}async function V(){try{let{data:{user:e}}=await o.O.auth.getUser();if(!e)return;let{data:t}=await o.O.from("profiles").select("client_id").eq("id",e.id).maybeSingle();if(!t?.client_id)return;let{data:s,error:a}=await o.O.from("quote_requests").select("*").eq("client_id",t.client_id).order("created_at",{ascending:!1});if(a)throw a;w(s||[])}catch(e){console.error("Erro ao carregar solicita\xe7\xf5es:",e)}}async function M(e){if(confirm("Tem certeza que deseja cancelar esta solicita\xe7\xe3o?"))try{let{error:t}=await o.O.from("quote_requests").delete().eq("id",e);if(t)throw t;alert("✅ Solicita\xe7\xe3o cancelada com sucesso!"),V()}catch(e){console.error("Erro ao cancelar solicita\xe7\xe3o:",e),alert("Erro ao cancelar solicita\xe7\xe3o. Tente novamente.")}}function z(e){return({pending:"Aguardando",approved:"Aprovado",rejected:"Rejeitado",expired:"Expirado",converted:"Convertido"})[e]||e}async function B(e){return new Promise(t=>{let s=new FileReader;s.onload=s=>{let a=new Image;a.onload=()=>{let s=document.createElement("canvas"),r=a.width,l=a.height;r>l&&r>1920?(l=l/r*1920,r=1920):l>1920&&(r=r/l*1920,l=1920),s.width=r,s.height=l;let o=s.getContext("2d");o?.drawImage(a,0,0,r,l),s.toBlob(s=>{s?t(new File([s],e.name,{type:"image/jpeg"})):t(e)},"image/jpeg",.8)},a.src=s.target?.result},s.readAsDataURL(e)})}async function G(e){let t=Array.from(e.target.files||[]);if(0!==t.length){L(!0);try{let e=await Promise.all(t.map(e=>B(e)));A(t=>[...t,...e])}catch(e){console.error("Erro ao processar fotos:",e),alert("Erro ao processar fotos")}finally{L(!1)}}}async function I(){if(0===$.length)return[];let{data:{user:e}}=await o.O.auth.getUser();if(!e)return[];let t=[];for(let s of $){let a=`quote-requests/${e.id}/${Date.now()}-${s.name}`,{data:r,error:l}=await o.O.storage.from("photos").upload(a,s);if(l){console.error("Erro ao fazer upload:",l);continue}let{data:{publicUrl:n}}=o.O.storage.from("photos").getPublicUrl(a);t.push(n)}return t}async function Q(){if(!P.title.trim()||!P.description.trim()){alert("Por favor, preencha o t\xedtulo e a descri\xe7\xe3o");return}try{R(!0);let{data:{user:e}}=await o.O.auth.getUser();if(!e)return;let{data:t,error:s}=await o.O.from("profiles").select("client_id").eq("id",e.id).maybeSingle();if(s||!t?.client_id){alert("Erro: Perfil n\xe3o encontrado ou sem cliente associado.\n\nPor favor, entre em contato com o suporte.");return}let a=await I(),{error:r}=await o.O.from("quote_requests").insert({client_id:t.client_id,title:P.title,description:P.description,urgency:P.urgency,status:"pending",photos:a.length>0?a:null});if(r)throw r;alert("✅ Solicita\xe7\xe3o enviada com sucesso!\n\nVoc\xea receber\xe1 uma notifica\xe7\xe3o quando o or\xe7amento estiver pronto.\n\n"+("urgent"===P.urgency?"⚡ Resposta em at\xe9 24 horas":"\uD83D\uDCC5 Resposta em at\xe9 48 horas")),S(!1),Z({title:"",description:"",urgency:"normal"}),A([]),V(),f("requests")}catch(e){console.error("Erro ao solicitar or\xe7amento:",e),alert("Erro ao enviar solicita\xe7\xe3o. Tente novamente.")}finally{R(!1)}}(0,r.useEffect)(()=>{F(),U(),V()},[]),(0,r.useEffect)(()=>{(function(){let e=[...y];if("all"!==D&&(e=e.filter(e=>e.status===D)),C){if(C.searchTerm){let t=C.searchTerm.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.quote_number.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t))}C.status&&(e=e.filter(e=>e.status===C.status)),C.dateFrom&&(e=e.filter(e=>new Date(e.created_at)>=new Date(C.dateFrom))),C.dateTo&&(e=e.filter(e=>new Date(e.created_at)<=new Date(C.dateTo))),void 0!==C.minValue&&(e=e.filter(e=>e.total>=C.minValue)),void 0!==C.maxValue&&(e=e.filter(e=>e.total<=C.maxValue))}q(e)})()},[y,D,C]);let X=y.filter(e=>"pending"===e.status).length;return t?a.jsx(h.Z,{children:a.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-amber-200 border-t-amber-600 mx-auto mb-4"}),a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Carregando or\xe7amentos..."})]})})}):a.jsx(h.Z,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 px-4 sm:px-6 md:px-8 py-8 sm:py-10 md:py-12 shadow-lg",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-1.5 sm:p-2 bg-white bg-opacity-20 rounded-lg flex-shrink-0",children:a.jsx(x.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Or\xe7amentos"}),a.jsx("p",{className:"text-amber-100 text-sm sm:text-base md:text-lg mt-0.5 sm:mt-1",children:X>0?`${X} aguardando sua aprova\xe7\xe3o`:"Todos os seus or\xe7amentos"})]})]}),(0,a.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 sm:px-6 py-2.5 sm:py-3 bg-white text-amber-600 rounded-xl font-bold hover:bg-amber-50 transition-all shadow-lg hover:shadow-xl",children:[a.jsx(m.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{className:"hidden sm:inline",children:"Solicitar Or\xe7amento"}),a.jsx("span",{className:"sm:hidden",children:"Solicitar"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 -mt-6 sm:-mt-8 pb-4",children:(0,a.jsxs)("div",{className:"flex gap-2 bg-white rounded-xl p-2 shadow-lg border border-gray-200",children:[(0,a.jsxs)("button",{onClick:()=>f("quotes"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition-all ${"quotes"===b?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:["\uD83D\uDCB0 Or\xe7amentos Recebidos (",y.length,")"]}),(0,a.jsxs)("button",{onClick:()=>f("requests"),className:`flex-1 px-4 py-3 rounded-lg font-semibold transition-all ${"requests"===b?"bg-gradient-to-r from-amber-600 to-orange-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:["\uD83D\uDCDD Minhas Solicita\xe7\xf5es (",v.length,")"]})]})}),E&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 p-6 rounded-t-2xl",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Solicitar Or\xe7amento"}),a.jsx("p",{className:"text-amber-100 mt-1",children:"Descreva o que voc\xea precisa e receba um or\xe7amento"})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"T\xedtulo da Solicita\xe7\xe3o *"}),a.jsx("input",{type:"text",value:P.title,onChange:e=>Z({...P,title:e.target.value}),placeholder:"Ex: Manuten\xe7\xe3o preventiva em ar condicionado",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none transition-all",maxLength:100}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[P.title.length,"/100 caracteres"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Descri\xe7\xe3o Detalhada *"}),a.jsx("textarea",{value:P.description,onChange:e=>Z({...P,description:e.target.value}),placeholder:"Descreva em detalhes o que voc\xea precisa, incluindo: - Tipo de servi\xe7o ou produto - Quantidade (se aplic\xe1vel) - Especifica\xe7\xf5es t\xe9cnicas - Prazo desejado - Qualquer outra informa\xe7\xe3o relevante",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 focus:ring-2 focus:ring-amber-200 outline-none transition-all resize-none",rows:8,maxLength:1e3}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[P.description.length,"/1000 caracteres"]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Urg\xeancia"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>Z({...P,urgency:"normal"}),className:`p-4 rounded-xl border-2 transition-all ${"normal"===P.urgency?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDCC5"}),a.jsx("div",{className:"font-semibold",children:"Normal"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Resposta em at\xe9 48h"})]}),(0,a.jsxs)("button",{onClick:()=>Z({...P,urgency:"urgent"}),className:`p-4 rounded-xl border-2 transition-all ${"urgent"===P.urgency?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDEA8"}),a.jsx("div",{className:"font-semibold",children:"Urgente"}),a.jsx("div",{className:"text-xs text-gray-500",children:"Resposta em at\xe9 24h"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Fotos (Opcional)"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-amber-400 transition-all",children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:G,disabled:T,className:"hidden",id:"photo-upload"}),(0,a.jsxs)("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:[a.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDCF8"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:T?"Processando fotos...":"Clique para adicionar fotos"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Ajuda a entendermos melhor sua necessidade"})]})]}),$.length>0&&a.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:$.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("img",{src:URL.createObjectURL(e),alt:`Foto ${t+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>{A(e=>e.filter((e,s)=>s!==t))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"})]},t))}),$.length>0&&(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[$.length," foto",$.length>1?"s":""," selecionada",$.length>1?"s":""," • Compress\xe3o autom\xe1tica aplicada"]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:()=>{S(!1),Z({title:"",description:"",urgency:"normal"})},disabled:O,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{onClick:Q,disabled:O||!P.title.trim()||!P.description.trim(),className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Enviando...":"Enviar Solicita\xe7\xe3o"})]})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 pb-6 sm:pb-8",children:"quotes"===b?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"mb-4 sm:mb-6",children:a.jsx(g.Z,{type:"quotes",onSearch:function(e){k(e),_("all")},onClear:function(){k(null),_("all")}})}),a.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-4 sm:mb-6",children:[{key:"all",label:"Todos",count:y.length,icon:"\uD83D\uDCB0"},{key:"pending",label:"Aguardando",count:y.filter(e=>"pending"===e.status).length,icon:"⏳"},{key:"approved",label:"Aprovados",count:y.filter(e=>"approved"===e.status).length,icon:"✅"},{key:"rejected",label:"Rejeitados",count:y.filter(e=>"rejected"===e.status).length,icon:"❌"}].map(e=>(0,a.jsxs)("button",{onClick:()=>_(e.key),className:`px-3 sm:px-4 md:px-5 py-2 sm:py-2.5 md:py-3 rounded-lg sm:rounded-xl font-semibold transition-all shadow-sm text-xs sm:text-sm md:text-base ${D===e.key?"bg-white text-amber-600 shadow-lg border-2 border-amber-200":"bg-white text-gray-600 hover:bg-white hover:shadow-md border-2 border-transparent"}`,children:[a.jsx("span",{className:"mr-1 md:mr-2",children:e.icon}),(0,a.jsxs)("span",{className:"hidden sm:inline",children:[e.label," "]}),(0,a.jsxs)("span",{className:"sm:hidden",children:[e.label.split(" ")[0]," "]}),"(",e.count,")"]},e.key))}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:0===N.length?(0,a.jsxs)("div",{className:"col-span-2 bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 p-10 sm:p-16 md:p-20 text-center",children:[a.jsx("div",{className:"inline-flex p-4 sm:p-6 bg-amber-100 rounded-full mb-4 sm:mb-6",children:a.jsx(x.Z,{className:"w-12 h-12 sm:w-16 sm:h-16 text-amber-600"})}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-700 mb-2 sm:mb-3",children:"all"===D?"Nenhum or\xe7amento":`Nenhum or\xe7amento ${z(D).toLowerCase()}`}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Quando recebermos or\xe7amentos, eles aparecer\xe3o aqui"})]}):N.map(t=>{var s;return(0,a.jsxs)("div",{onClick:()=>e.push(`/quotes/${t.id}`),className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-2xl transition-all cursor-pointer border border-gray-200 hover:border-amber-300",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 mb-3 sm:mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-500",children:t.quote_number}),"pending"===t.status&&new Date(t.valid_until)<new Date&&a.jsx("span",{className:"text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 bg-red-100 text-red-700 rounded-full font-medium",children:"Expirado"})]}),a.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg hover:text-blue-600 transition-colors",children:t.title})]}),(0,a.jsxs)("span",{className:`flex items-center gap-1 sm:gap-1.5 text-[10px] sm:text-xs px-2 sm:px-3 py-1 sm:py-1.5 rounded-full font-medium border ${{pending:"bg-amber-50 text-amber-700 border-amber-200",approved:"bg-emerald-50 text-emerald-700 border-emerald-200",rejected:"bg-red-50 text-red-700 border-red-200",expired:"bg-gray-50 text-gray-700 border-gray-200",converted:"bg-blue-50 text-blue-700 border-blue-200"}[t.status]||"bg-gray-50 text-gray-700 border-gray-200"} whitespace-nowrap`,children:[(s=t.status,({pending:a.jsx(n.Z,{className:"w-4 h-4"}),approved:a.jsx(i.Z,{className:"w-4 h-4"}),rejected:a.jsx(d.Z,{className:"w-4 h-4"}),expired:a.jsx(c.Z,{className:"w-4 h-4"}),converted:a.jsx(m.Z,{className:"w-4 h-4"})})[s]||a.jsx(m.Z,{className:"w-4 h-4"})),z(t.status)]})]}),t.description&&a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2 mb-3 sm:mb-4",children:t.description}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg sm:rounded-xl p-3 sm:p-4 mb-3 sm:mb-4",children:[a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-0.5 sm:mb-1",children:"Valor Total"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)}),t.items_count&&t.items_count>0&&(0,a.jsxs)("p",{className:"text-[10px] sm:text-xs text-gray-500 mt-0.5 sm:mt-1",children:[t.items_count," ",1===t.items_count?"item":"itens"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 pt-3 sm:pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-500",children:[a.jsx(u.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),(0,a.jsxs)("span",{children:["V\xe1lido at\xe9 ",new Date(t.valid_until).toLocaleDateString("pt-BR")]})]}),"pending"===t.status&&a.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600 whitespace-nowrap",children:"Ver detalhes →"})]})]},t.id)})})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6 mt-4",children:0===v.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-lg border border-gray-200 p-10 sm:p-16 text-center",children:[a.jsx("div",{className:"inline-flex p-4 sm:p-6 bg-amber-100 rounded-full mb-4 sm:mb-6",children:a.jsx(m.Z,{className:"w-12 h-12 sm:w-16 sm:h-16 text-amber-600"})}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-700 mb-2 sm:mb-3",children:"Nenhuma solicita\xe7\xe3o ainda"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-6",children:'Clique em "Solicitar Or\xe7amento" para come\xe7ar'}),a.jsx("button",{onClick:()=>S(!0),className:"px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all",children:"Solicitar Or\xe7amento"})]}):v.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 shadow-lg hover:shadow-2xl transition-all border border-gray-200 hover:border-amber-300",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start justify-between gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 w-full sm:w-auto",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.request_number&&a.jsx("span",{className:"text-xs sm:text-sm font-mono text-gray-500",children:e.request_number}),"urgent"===e.urgency?a.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded-full font-medium",children:"\uD83D\uDEA8 URGENTE"}):a.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full font-medium",children:"\uD83D\uDCC5 Normal"})]}),a.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg mb-2",children:e.title}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:e.description})]}),(0,a.jsxs)("span",{className:`flex items-center gap-1 sm:gap-1.5 text-[10px] sm:text-xs px-2 sm:px-3 py-1 sm:py-1.5 rounded-full font-medium border ${{pending:"bg-amber-50 text-amber-700 border-amber-200",in_review:"bg-blue-50 text-blue-700 border-blue-200",quoted:"bg-emerald-50 text-emerald-700 border-emerald-200",cancelled:"bg-gray-50 text-gray-700 border-gray-200"}[e.status]||"bg-gray-50 text-gray-700 border-gray-200"} whitespace-nowrap`,children:[(t=e.status,({pending:a.jsx(n.Z,{className:"w-4 h-4"}),in_review:a.jsx(c.Z,{className:"w-4 h-4"}),quoted:a.jsx(i.Z,{className:"w-4 h-4"}),cancelled:a.jsx(d.Z,{className:"w-4 h-4"})})[t]||a.jsx(m.Z,{className:"w-4 h-4"})),{pending:"Aguardando",in_review:"Em An\xe1lise",quoted:"Or\xe7amento Enviado",cancelled:"Cancelado"}[s=e.status]||s]})]}),e.photos&&e.photos.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["\uD83D\uDCF8 ",e.photos.length," foto",e.photos.length>1?"s":""," anexada",e.photos.length>1?"s":""]}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto",children:[e.photos.slice(0,3).map((e,t)=>a.jsx("img",{src:e,alt:`Foto ${t+1}`,className:"w-20 h-20 object-cover rounded-lg border border-gray-200"},t)),e.photos.length>3&&a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs text-gray-600 font-medium",children:["+",e.photos.length-3]})})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:["Solicitado em ",new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-blue-600",children:"urgent"===e.urgency?"⚡ Resposta em at\xe9 24h":"\uD83D\uDCC5 Resposta em at\xe9 48h"}),(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancelar solicita\xe7\xe3o",children:[a.jsx(p.Z,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Cancelar"})]})]}),"quoted"===e.status&&a.jsx("button",{onClick:()=>f("quotes"),className:"text-xs sm:text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Ver Or\xe7amento →"}),"in_review"===e.status&&(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Cancelar solicita\xe7\xe3o",children:[a.jsx(p.Z,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"hidden sm:inline",children:"Cancelar"})]})]})]})]},e.id)})})})]})})}},7060:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},73229:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},42397:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>o});let a=(0,s(86843).createProxy)(String.raw`D:\Projeto\chameiapp\client-portal\app\quotes\page.tsx`),{__esModule:r,$$typeof:l}=a,o=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[869,837,404,846],()=>s(55355));module.exports=a})();