(()=>{var e={};e.id=193,e.ids=[193],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},8634:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=a(482),r=a(9108),i=a(2563),l=a.n(i),o=a(8300),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let d=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7125)),"D:\\Projeto\\client-portal\\app\\notifications\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"D:\\Projeto\\client-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projeto\\client-portal\\app\\notifications\\page.tsx"],x="/notifications/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2773:(e,t,a)=>{Promise.resolve().then(a.bind(a,6002))},3711:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},5114:()=>{},6002:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(2295),r=a(3729),i=a(2254),l=a(2829),o=a(7121),n=a(6138),d=a(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var x=a(8411);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,d.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),u=(0,d.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var h=a(3037),p=a(3024),b=a(8271);function g(){let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(!0),[d,g]=(0,r.useState)([]),[f,y]=(0,r.useState)("all");async function j(){let{data:{user:t}}=await l.O.auth.getUser();t||e.push("/login")}async function w(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{data:t,error:a}=await l.O.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(a)throw a;g(t||[])}catch(e){console.error("Erro ao carregar notifica\xe7\xf5es:",e)}finally{a(!1)}}async function v(e){try{let{error:t}=await l.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("id",e);if(t)throw t;await w()}catch(e){console.error("Erro ao marcar como lida:",e)}}async function N(){try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{error:t}=await l.O.from("notifications").update({is_read:!0,read_at:new Date().toISOString()}).eq("user_id",e.id).eq("is_read",!1);if(t)throw t;await w()}catch(e){console.error("Erro ao marcar todas como lidas:",e)}}async function k(){if(confirm("Deseja excluir todas as notifica\xe7\xf5es lidas? Esta a\xe7\xe3o n\xe3o pode ser desfeita."))try{let{data:{user:e}}=await l.O.auth.getUser();if(!e)return;let{error:t}=await l.O.from("notifications").delete().eq("user_id",e.id).eq("is_read",!0);if(t)throw t;await w()}catch(e){console.error("Erro ao deletar notifica\xe7\xf5es:",e),alert("Erro ao excluir notifica\xe7\xf5es")}}async function _(e){try{let{error:t}=await l.O.from("notifications").delete().eq("id",e);if(t)throw t;await w()}catch(e){console.error("Erro ao deletar notifica\xe7\xe3o:",e)}}(0,r.useEffect)(()=>{j(),w()},[]);let q="unread"===f?d.filter(e=>!e.is_read):d,Z=d.filter(e=>!e.is_read).length;return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e.back(),className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",children:s.jsx(p.Z,{className:"w-5 h-5 text-slate-700"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Notifica\xe7\xf5es"}),s.jsx("p",{className:"text-sm text-slate-500",children:Z>0?`${Z} n\xe3o lida${Z>1?"s":""}`:"Tudo em dia"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[Z>0&&(0,s.jsxs)("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-all",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Marcar todas como lidas"}),s.jsx("span",{className:"sm:hidden",children:"Marcar"})]}),d.filter(e=>e.is_read).length>0&&(0,s.jsxs)("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-all",children:[s.jsx(b.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Limpar lidas"}),s.jsx("span",{className:"sm:hidden",children:"Limpar"})]})]})]})})}),(0,s.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,s.jsxs)("div",{className:"flex gap-3 mb-6",children:[(0,s.jsxs)("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-xl font-medium transition-all ${"all"===f?"bg-white text-blue-600 shadow-sm border border-blue-200":"bg-white/60 text-slate-600 hover:bg-white"}`,children:["Todas (",d.length,")"]}),(0,s.jsxs)("button",{onClick:()=>y("unread"),className:`px-4 py-2 rounded-xl font-medium transition-all ${"unread"===f?"bg-white text-blue-600 shadow-sm border border-blue-200":"bg-white/60 text-slate-600 hover:bg-white"}`,children:["N\xe3o lidas (",Z,")"]})]}),s.jsx("div",{className:"space-y-3",children:0===q.length?(0,s.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-16 text-center",children:[s.jsx(h.Z,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium text-slate-700 mb-2",children:"unread"===f?"Nenhuma notifica\xe7\xe3o n\xe3o lida":"Nenhuma notifica\xe7\xe3o"}),s.jsx("p",{className:"text-sm text-slate-500",children:"unread"===f?"Voc\xea est\xe1 em dia!":"Quando houver novidades, elas aparecer\xe3o aqui"})]}):q.map(t=>{var a;return s.jsx("div",{className:`group bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border transition-all duration-300 cursor-pointer overflow-hidden ${t.is_read?"border-slate-200/60 hover:border-slate-300":"border-blue-300 hover:border-blue-400 bg-blue-50/30"}`,onClick:()=>{v(t.id),t.order_id?e.push(`/order/${t.order_id}`):t.quote_id&&e.push(`/quotes/${t.quote_id}`)},children:s.jsx("div",{className:"p-5",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center ${{new_order:"bg-blue-100 text-blue-600",order_updated:"bg-purple-100 text-purple-600",order_completed:"bg-green-100 text-green-600",quote_created:"bg-amber-100 text-amber-600",quote_approved:"bg-emerald-100 text-emerald-600",quote_rejected:"bg-red-100 text-red-600",message:"bg-cyan-100 text-cyan-600",system:"bg-slate-100 text-slate-600"}[t.type]||"bg-gray-100 text-gray-600"}`,children:(a=t.type,({new_order:s.jsx(o.Z,{className:"w-5 h-5"}),order_updated:s.jsx(n.Z,{className:"w-5 h-5"}),order_completed:s.jsx(c,{className:"w-5 h-5"}),quote_created:s.jsx(x.Z,{className:"w-5 h-5"}),quote_approved:s.jsx(m,{className:"w-5 h-5"}),quote_rejected:s.jsx(n.Z,{className:"w-5 h-5"}),message:s.jsx(u,{className:"w-5 h-5"}),system:s.jsx(h.Z,{className:"w-5 h-5"})})[a]||s.jsx(h.Z,{className:"w-5 h-5"}))}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-1",children:[s.jsx("h3",{className:"font-semibold text-slate-900 text-base",children:t.title}),!t.is_read&&s.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full"})]}),s.jsx("p",{className:"text-sm text-slate-600 mb-2 line-clamp-2",children:t.body}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(t.created_at).toLocaleString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!t.is_read&&s.jsx("button",{onClick:e=>{e.stopPropagation(),v(t.id)},className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Marcar como lida",children:s.jsx(m,{className:"w-4 h-4 text-blue-600"})}),s.jsx("button",{onClick:e=>{e.stopPropagation(),_(t.id)},className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Excluir",children:s.jsx(b.Z,{className:"w-4 h-4 text-red-600"})})]})]})})},t.id)})})]})]})}},2829:(e,t,a)=>{"use strict";a.d(t,{O:()=>s});let s=(0,a(7727).eI)("https://xgcpfxzlzretwsjhvbtt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhnY3BmeHpsenJldHdzamh2YnR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjgyODEsImV4cCI6MjA4MDgwNDI4MX0.uG-WI56U7TUkkZogpofgbm8VH55RYOHe1y1hQRpUMgc")},9224:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(3729),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:c,...x},m)=>(0,s.createElement)("svg",{ref:m,...r,width:l,height:l,stroke:a,strokeWidth:n?24*Number(o)/Number(l):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...x},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return a.displayName=`${e}`,a}},6138:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3024:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3037:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8411:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7121:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8271:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>l});var s=a(5036),r=a(265),i=a.n(r);a(7272);let l={title:"Portal do Cliente",description:"Acompanhe seus chamados e servi\xe7os"};function o({children:e}){return s.jsx("html",{lang:"pt-BR",children:s.jsx("body",{className:i().className,children:e})})}},7125:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let s=(0,a(6843).createProxy)(String.raw`D:\Projeto\client-portal\app\notifications\page.tsx`),{__esModule:r,$$typeof:i}=s,l=s.default},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[869,837],()=>a(8634));module.exports=s})();