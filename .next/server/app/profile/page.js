(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(482),r=s(9108),l=s(2563),i=s.n(l),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8654)),"D:\\Projeto\\client-portal\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"D:\\Projeto\\client-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projeto\\client-portal\\app\\profile\\page.tsx"],m="/profile/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3235:(e,t,s)=>{Promise.resolve().then(s.bind(s,5566))},3711:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5114:()=>{},5566:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(2295),r=s(3729),l=s(2254),i=s(2829),n=s(3024),o=s(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);var c=s(8822);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),x=(0,o.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),u=(0,o.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),h=(0,o.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),p=(0,o.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),b=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function f(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)(!0),[o,f]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[j,y]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[k,P]=(0,r.useState)(""),[M,S]=(0,r.useState)(""),[C,Z]=(0,r.useState)(""),[_,A]=(0,r.useState)(""),[I,q]=(0,r.useState)(!1),[E,z]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),[R,$]=(0,r.useState)(null);async function D(){let{data:{user:t}}=await i.O.auth.getUser();t||e.push("/login")}async function H(){try{let{data:{user:e}}=await i.O.auth.getUser();if(!e)return;let{data:t,error:s}=await i.O.from("profiles").select(`
          *,
          client:clients(name, address, responsible_name)
        `).eq("id",e.id).single();if(s)throw s;v(t),y(t.full_name||""),w(e.email||""),P(t.phone||"")}catch(e){console.error("Erro ao carregar perfil:",e)}finally{s(!1)}}async function J(){f(!0),$(null);try{let{data:{user:e}}=await i.O.auth.getUser();if(!e)throw Error("Usu\xe1rio n\xe3o autenticado");if(N!==e.email){let{error:e}=await i.O.auth.updateUser({email:N.trim()});if(e)throw e}let{error:t}=await i.O.from("profiles").update({full_name:j.trim(),phone:k.trim()||null}).eq("id",e.id);if(t)throw t;$({type:"success",text:"✅ Perfil atualizado com sucesso!"+(N!==e.email?" Verifique seu novo email para confirmar.":"")}),await H()}catch(e){$({type:"error",text:`Erro ao atualizar perfil: ${e.message}`})}finally{f(!1)}}async function G(){if($(null),!C||!_){$({type:"error",text:"Preencha a nova senha e confirma\xe7\xe3o"});return}if(C!==_){$({type:"error",text:"As senhas n\xe3o coincidem"});return}if(C.length<6){$({type:"error",text:"A senha deve ter no m\xednimo 6 caracteres"});return}f(!0);try{let{error:e}=await i.O.auth.updateUser({password:C});if(e)throw e;$({type:"success",text:"✅ Senha alterada com sucesso!"}),S(""),Z(""),A("")}catch(e){$({type:"error",text:`Erro ao alterar senha: ${e.message}`})}finally{f(!1)}}return((0,r.useEffect)(()=>{D(),H()},[]),t)?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>e.back(),className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200",children:a.jsx(n.Z,{className:"w-5 h-5 text-slate-700"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Meu Perfil"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Gerencie suas informa\xe7\xf5es pessoais"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-8",children:[R&&a.jsx("div",{className:`mb-6 p-4 rounded-xl border-l-4 ${"success"===R.type?"bg-emerald-50 border-emerald-500 text-emerald-800":"bg-red-50 border-red-500 text-red-800"}`,children:a.jsx("p",{className:"font-medium",children:R.text})}),g?.client&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-8 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:a.jsx(d,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Empresa"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Informa\xe7\xf5es da sua empresa"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome da Empresa"}),a.jsx("div",{className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900",children:g.client.name})]}),g.client.responsible_name&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Respons\xe1vel"}),a.jsx("div",{className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900",children:g.client.responsible_name})]}),g.client.address&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Endere\xe7o"}),a.jsx("div",{className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-slate-900",children:g.client.address})]})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-8 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:a.jsx(c.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Informa\xe7\xf5es Pessoais"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Atualize seus dados pessoais"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome Completo *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:j,onChange:e=>y(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Seu nome completo"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(m,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"email",value:N,onChange:e=>w(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"seu@email.com"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Se alterar o email, voc\xea receber\xe1 um link de confirma\xe7\xe3o"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Telefone"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(x,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"tel",value:k,onChange:e=>P(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"(00) 00000-0000"})]})]}),(0,a.jsxs)("button",{onClick:J,disabled:o,className:"w-full group relative px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-semibold hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-all duration-300 shadow-lg hover:shadow-2xl overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),a.jsx("div",{className:"relative flex items-center justify-center gap-2",children:o?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),a.jsx("span",{children:"Salvando..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(u,{className:"w-5 h-5"}),a.jsx("span",{children:"Salvar Altera\xe7\xf5es"})]})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center",children:a.jsx(h,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Seguran\xe7a"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Altere sua senha de acesso"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nova Senha *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:E?"text":"password",value:C,onChange:e=>Z(e.target.value),className:"w-full pl-12 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"M\xednimo 6 caracteres"}),a.jsx("button",{type:"button",onClick:()=>z(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:E?a.jsx(p,{className:"w-5 h-5"}):a.jsx(b,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirmar Nova Senha *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:O?"text":"password",value:_,onChange:e=>A(e.target.value),className:"w-full pl-12 pr-12 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Digite a senha novamente"}),a.jsx("button",{type:"button",onClick:()=>U(!O),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:O?a.jsx(p,{className:"w-5 h-5"}):a.jsx(b,{className:"w-5 h-5"})})]})]}),a.jsx("button",{onClick:G,disabled:o||!C||!_,className:"w-full px-6 py-4 bg-gradient-to-r from-amber-600 to-orange-600 text-white rounded-2xl font-semibold hover:from-amber-700 hover:to-orange-700 disabled:opacity-50 transition-all duration-300 shadow-lg hover:shadow-2xl",children:o?"Alterando...":"Alterar Senha"})]})]})]})]})}},2829:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});let a=(0,s(7727).eI)("https://xgcpfxzlzretwsjhvbtt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhnY3BmeHpsenJldHdzamh2YnR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjgyODEsImV4cCI6MjA4MDgwNDI4MX0.uG-WI56U7TUkkZogpofgbm8VH55RYOHe1y1hQRpUMgc")},9224:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(3729),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:d="",children:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:i,height:i,stroke:s,strokeWidth:o?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,d].join(" "),...m},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},3024:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var a=s(5036),r=s(265),l=s.n(r);s(7272);let i={title:"Portal do Cliente",description:"Acompanhe seus chamados e servi\xe7os"};function n({children:e}){return a.jsx("html",{lang:"pt-BR",children:a.jsx("body",{className:l().className,children:e})})}},8654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,s(6843).createProxy)(String.raw`D:\Projeto\client-portal\app\profile\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[869,837],()=>s(3042));module.exports=a})();