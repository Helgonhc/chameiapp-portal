(()=>{var e={};e.id=358,e.ids=[358],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2974:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(482),a=r(9108),l=r(2563),o=r.n(l),n=r(8300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let d=["",{children:["appointments",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8342)),"D:\\Projeto\\chameiapp\\client-portal\\app\\appointments\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2917)),"D:\\Projeto\\chameiapp\\client-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projeto\\chameiapp\\client-portal\\app\\appointments\\new\\page.tsx"],u="/appointments/new/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/appointments/new/page",pathname:"/appointments/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2962:(e,t,r)=>{Promise.resolve().then(r.bind(r,335))},5901:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},3576:()=>{},335:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(2295),a=r(3729),l=r(2254),o=r(2829),n=r(4290),i=r(3024),d=r(5794),c=r(5545);function u(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)(!1),[u,x]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[b,h]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[w,k]=(0,a.useState)("medium"),[_,P]=(0,a.useState)("");async function D(){let{data:{user:t}}=await o.O.auth.getUser();t||e.push("/login")}async function C(t){t.preventDefault(),r(!0),P("");try{if(!m||!b)throw Error("Data e hor\xe1rio s\xe3o obrigat\xf3rios");let{data:{user:t}}=await o.O.auth.getUser();if(!t)throw Error("Usu\xe1rio n\xe3o autenticado");let{data:r}=await o.O.from("profiles").select("client_id").eq("id",t.id).single();if(!r?.client_id)throw Error("Cliente n\xe3o encontrado");let{error:s}=await o.O.from("appointment_requests").insert({client_id:r.client_id,requested_date:m,requested_time_start:b,requested_time_end:g||null,service_type:f||null,description:y||null,priority:w,status:"pending"});if(s)throw s;x(!0),setTimeout(()=>e.push("/appointments"),2500)}catch(e){P(e.message||"Erro ao criar agendamento")}finally{r(!1)}}return((0,a.useEffect)(()=>{D()},[]),u)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-12 max-w-md text-center",children:[(0,s.jsxs)("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-400 to-teal-400 rounded-full blur-2xl opacity-30 animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto shadow-2xl",children:s.jsx(n.Z,{className:"w-14 h-14 text-white"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-3",children:"Agendamento Solicitado!"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Sua solicita\xe7\xe3o foi enviada. Aguarde a confirma\xe7\xe3o do t\xe9cnico."}),s.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4",children:s.jsx("p",{className:"text-sm text-emerald-800 font-medium",children:"âœ“ Voc\xea receber\xe1 uma notifica\xe7\xe3o quando for confirmado"})})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[s.jsx("header",{className:"bg-white/80 backdrop-blur-xl border-b border-slate-200/60 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e.back(),className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all",children:s.jsx(i.Z,{className:"w-5 h-5 text-slate-700"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Novo Agendamento"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Solicite uma visita t\xe9cnica"})]})]})})}),s.jsx("main",{className:"max-w-4xl mx-auto px-6 py-8",children:(0,s.jsxs)("form",{onSubmit:C,className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-slate-200/60 p-8 space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Tipo de Servi\xe7o"}),s.jsx("input",{type:"text",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ex: Manuten\xe7\xe3o Preventiva, Instala\xe7\xe3o, Reparo..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Descri\xe7\xe3o (Opcional)"}),s.jsx("textarea",{value:y,onChange:e=>N(e.target.value),rows:4,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Descreva o que precisa ser feito..."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Data Desejada *"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"date",value:m,onChange:e=>p(e.target.value),min:new Date().toISOString().split("T")[0],required:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Hor\xe1rio In\xedcio *"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"time",value:b,onChange:e=>h(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Hor\xe1rio Fim (Opcional)"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),s.jsx("input",{type:"time",value:g,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"Prioridade"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>k("low"),className:`p-3 rounded-xl border-2 transition-all ${"low"===w?"border-green-500 bg-green-50":"border-slate-200 hover:border-green-300"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDFE2"}),s.jsx("div",{className:"text-xs font-bold",children:"Baixa"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>k("medium"),className:`p-3 rounded-xl border-2 transition-all ${"medium"===w?"border-yellow-500 bg-yellow-50":"border-slate-200 hover:border-yellow-300"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDFE1"}),s.jsx("div",{className:"text-xs font-bold",children:"M\xe9dia"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>k("high"),className:`p-3 rounded-xl border-2 transition-all ${"high"===w?"border-orange-500 bg-orange-50":"border-slate-200 hover:border-orange-300"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDFE0"}),s.jsx("div",{className:"text-xs font-bold",children:"Alta"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>k("urgent"),className:`p-3 rounded-xl border-2 transition-all ${"urgent"===w?"border-red-500 bg-red-50":"border-slate-200 hover:border-red-300"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:"\uD83D\uDD34"}),s.jsx("div",{className:"text-xs font-bold",children:"Urgente"})]})]})]}),_&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:_}),s.jsx("button",{type:"submit",disabled:t,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 transition-all shadow-lg hover:shadow-xl",children:t?"Enviando...":"Solicitar Agendamento"})]})})]})}},2829:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});var s=r(7727);let a=process.env.NEXT_PUBLIC_SUPABASE_URL,l=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,o=(0,s.eI)(a,l)},9224:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(3729),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:c,...u},x)=>(0,s.createElement)("svg",{ref:x,...a,width:o,height:o,stroke:r,strokeWidth:i?24*Number(n)/Number(o):n,className:["lucide",`lucide-${l(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},3024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5794:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},4290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5545:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`D:\Projeto\chameiapp\client-portal\app\appointments\new\page.tsx`),{__esModule:a,$$typeof:l}=s,o=s.default},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>o});var s=r(5036),a=r(265),l=r.n(a);r(7272);let o={title:"Portal do Cliente",description:"Acompanhe seus chamados e servi\xe7os"};function n({children:e}){return s.jsx("html",{lang:"pt-BR",children:s.jsx("body",{className:l().className,children:e})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[869,837],()=>r(2974));module.exports=s})();