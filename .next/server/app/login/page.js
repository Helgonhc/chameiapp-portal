(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),a=s(9108),o=s(2563),l=s.n(o),i=s(8300),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(t,n);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3015)),"D:\\Projeto\\chameiapp\\client-portal\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"D:\\Projeto\\chameiapp\\client-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Projeto\\chameiapp\\client-portal\\app\\login\\page.tsx"],u="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6009:(e,t,s)=>{Promise.resolve().then(s.bind(s,9928))},5901:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},3576:()=>{},9928:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(2295),a=s(3729),o=s(2254),l=s(2829),i=s(1223),n=s.n(i);function d(){let e=(0,o.useRouter)(),[t,s]=(0,a.useState)(""),[i,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[x,b]=(0,a.useState)(null),[h,g]=(0,a.useState)(!0);async function f(){try{let{data:e,error:t}=await l.O.from("clients").select("name, company_name, logo_url, primary_color, portal_welcome_message").eq("is_active",!0).eq("portal_enabled",!0).limit(1).single();t?(console.error("Erro ao carregar branding:",t),b({name:process.env.NEXT_PUBLIC_CLIENT_NAME||"Portal do Cliente",company_name:process.env.NEXT_PUBLIC_CLIENT_NAME||"Portal do Cliente",logo_url:`/logos/${process.env.NEXT_PUBLIC_CLIENT_LOGO||"client-logo.png"}`,primary_color:`#${process.env.NEXT_PUBLIC_CLIENT_COLOR||"0066cc"}`,portal_welcome_message:null})):b(e)}catch(e){console.error("Erro ao carregar branding:",e)}finally{g(!1)}}async function v(s){s.preventDefault(),u(!0),p("");try{let{data:s,error:r}=await l.O.auth.signInWithPassword({email:t,password:i});if(r)throw r;let{data:a}=await l.O.from("profiles").select("role, client_id, is_active").eq("id",s.user.id).single();if(a?.role!=="client")throw await l.O.auth.signOut(),Error("Acesso negado. Este portal \xe9 apenas para clientes.");if(!1===a.is_active)throw await l.O.auth.signOut(),Error("Sua conta est\xe1 desativada. Entre em contato com o suporte.");if(a.client_id){let{data:e}=await l.O.from("clients").select("portal_blocked, portal_blocked_reason").eq("id",a.client_id).single();if(e?.portal_blocked){await l.O.auth.signOut();let t=e.portal_blocked_reason||"Seu acesso ao portal foi bloqueado.";throw Error(`ðŸ”’ Acesso Bloqueado

${t}

Entre em contato com o suporte para mais informa\xe7\xf5es.`)}}e.push("/dashboard")}catch(e){p(e.message)}finally{u(!1)}}return((0,a.useEffect)(()=>{f()},[]),h)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 px-4 py-8 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-400/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-indigo-400/20 rounded-full blur-3xl"}),r.jsx("div",{className:"max-w-md w-full relative z-10",children:(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-slate-200/60",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[x?.logo_url&&(0,r.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full blur opacity-20"}),r.jsx(n(),{src:x.logo_url,alt:`Logo ${x.name}`,fill:!0,className:"object-contain relative z-10",priority:!0})]}),r.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Bem-vindo de volta!"}),r.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:x?.portal_welcome_message||`Portal de Chamados da ${x?.name||"Empresa"}`})]}),r.jsx("div",{className:"pt-4 border-t border-slate-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-xs text-slate-500",children:"Powered by"}),r.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"ChameiApp"})]})})]}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-5",children:[m&&r.jsx("div",{className:"bg-red-50/80 backdrop-blur-xl border-l-4 border-red-500 text-red-700 px-4 py-3 rounded-xl",children:r.jsx("p",{className:"text-sm font-medium",children:m})}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email"}),r.jsx("input",{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"seu@email.com"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-slate-700 mb-2",children:"Senha"}),r.jsx("input",{id:"password",type:"password",value:i,onChange:e=>d(e.target.value),required:!0,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]}),(0,r.jsxs)("button",{type:"submit",disabled:c,className:"group relative w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-4 rounded-xl font-bold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r.jsx("span",{className:"relative",children:c?"Entrando...":"Entrar no Portal"})]})]}),r.jsx("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-slate-600",children:["N\xe3o tem uma conta?"," ",r.jsx("button",{onClick:()=>e.push("/register"),className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-all",children:"Criar conta"})]})})]})}),(0,r.jsxs)("div",{className:"mt-8 text-center relative z-10",children:[(0,r.jsxs)("p",{className:"text-xs text-slate-600",children:["\xa9 ",new Date().getFullYear()," ChameiApp. Todos os direitos reservados."]}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Desenvolvido por ",r.jsx("span",{className:"font-semibold text-slate-700",children:"Helgon Henrique"})]})]})]})}},2829:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var r=s(7727);let a=process.env.NEXT_PUBLIC_SUPABASE_URL,o=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,l=(0,r.eI)(a,o)},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var r=s(5036),a=s(265),o=s.n(a);s(7272);let l={title:"Portal do Cliente",description:"Acompanhe seus chamados e servi\xe7os"};function i({children:e}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{className:o().className,children:e})})}},3015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>l});let r=(0,s(6843).createProxy)(String.raw`D:\Projeto\chameiapp\client-portal\app\login\page.tsx`),{__esModule:a,$$typeof:o}=r,l=r.default},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[869,837,223],()=>s(9289));module.exports=r})();